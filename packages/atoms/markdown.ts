import { SelectWidget } from '@cofe/form/widgets/SelectWidget';
import { TextareaWidget } from '@cofe/form/widgets/TextareaWidget';
import { CofeAtom } from '@cofe/types';
import { MarkdownRenderer } from './renderers/Markdown';
import { hues } from './utils/colors';

export const markdown: CofeAtom = {
  type: 'markdown',
  properties: {
    type: 'object',
    properties: {
      content: {
        type: 'string',
        title: '内容',
        description: '支持 Markdown 语法',
      },
      colorScheme: {
        type: 'string',
        title: '色调',
        enum: hues,
        default: 'gray',
      },
    },
    required: ['content'],
  },
  form: {
    content: {
      'ui:widget': TextareaWidget,
    },
    colorScheme: {
      'ui:widget': SelectWidget,
    },
  },
  icon: 'm 14.628,14.999999 1.034666,-3.839998 h 0.901333 l 1.007999,3.839998 h -0.687999 l -0.229334,-0.965333 h -1.114666 l -0.229333,0.965333 z m 1.898665,-1.493332 -0.325333,-1.370666 c -0.01422,-0.064 -0.02844,-0.128 -0.04267,-0.192 -0.01067,-0.064 -0.01956,-0.120889 -0.02667,-0.170667 -0.0071,-0.05689 -0.01422,-0.113775 -0.02133,-0.170666 h -0.02667 c -0.0071,0.05689 -0.01422,0.113775 -0.02133,0.170666 -0.0071,0.04978 -0.016,0.106669 -0.02667,0.170667 -0.01067,0.064 -0.02489,0.128 -0.04267,0.192 l -0.325333,1.370666 z M 3.992188,6 C 3.4426967,6 3,6.4374357 3,6.9804688 V 17.019531 C 3,17.562564 3.4426967,18 3.992188,18 H 20.007812 C 20.557303,18 21,17.562564 21,17.019531 V 6.9804688 C 21,6.4374357 20.557303,6 20.007812,6 Z M 4.5,7 h 15 C 19.777,7 20,7.223 20,7.5 v 9 C 20,16.777 19.777,17 19.5,17 H 4.5 C 4.223,17 4,16.777 4,16.5 v -9 C 4,7.223 4.223,7 4.5,7 Z M 9.998047,8.0001406 C 9.722557,8.0001406 9.5,8.2283006 9.5,8.5118594 V 10 h -2 C 7.223,10 7,10.223 7,10.5 v 3 C 7,13.777 7.223,14 7.5,14 h 2 v 1.488141 c 0,0.283558 0.222605,0.511718 0.498047,0.511718 h 0.0039 c 0.275496,0 0.270561,-0.342448 0.498053,-0.511718 V 14 h 2 c 0.277,0 0.5,-0.223 0.5,-0.5 v -3 C 13,10.223 12.777,10 12.5,10 h -2 V 8.5118594 C 10.5,8.2283006 10.277395,8.0001406 10.001953,8.0001406 Z M 8.333984,11 H 9.5 v 2 H 8.333984 C 8.149318,13 8,12.8885 8,12.75 v -1.5 C 8,11.1115 8.149318,11 8.333984,11 Z M 10.5,11 h 1.166016 C 11.850682,11 12,11.1115 12,11.25 v 1.5 C 12,12.8885 11.850682,13 11.666016,13 H 10.5 Z',
  renderer: MarkdownRenderer,
};
